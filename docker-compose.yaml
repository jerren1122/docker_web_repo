version: '3.7'


x-labels: &deploy
  deploy:
    resources:
      limits:
        cpus: '.50'
        memory: '50M'

services:
  one:
    image: cucumber-example
    restart: "no"
    environment:
      build_number: 1
      total_number_of_builds: 8
    <<: *deploy


  two:
    image: cucumber-example
    restart: "no"
    environment:
      build_number: 2
      total_number_of_builds: 8
    <<: *deploy


  three:
    image: cucumber-example
    restart: "no"
    environment:
      build_number: 3
      total_number_of_builds: 8
    <<: *deploy

  four:
    image: cucumber-example
    restart: "no"
    environment:
      build_number: 4
      total_number_of_builds: 8
    <<: *deploy

  five:
    image: cucumber-example
    restart: "no"
    environment:
      build_number: 5
      total_number_of_builds: 8
    <<: *deploy

  six:
    image: cucumber-example
    restart: "no"
    environment:
      build_number: 6
      total_number_of_builds: 8
    <<: *deploy

  seven:
    image: cucumber-example
    restart: "no"
    environment:
      build_number: 7
      total_number_of_builds: 8
    <<: *deploy

  eight:
    image: cucumber-example
    restart: "no"
    environment:
      build_number: 8
      total_number_of_builds: 8
    <<: *deploy

